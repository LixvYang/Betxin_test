(function(){"use strict";var e={4775:function(e,t,o){var n=o(9242),i=o(3396);const a={class:"app"};function r(e,t){const o=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(o)])}var s=o(89);const c={},u=(0,s.Z)(c,[["render",r]]);var l=u,p=(o(5110),o(9545)),d=o(3),h=o(5258),f=o(4521),m=o(147),g=o(3739),v=o(5331),C=o(3649),b=o(6305),w=o(5630),y=o(857),_=o(3875),T=o(2229),L=o(2691),k=o(4800),P=o(2727),S=o(6166),I=o(5191),U=o(5943),B=o(6318),Z=o(1120),O=o(2544),D=o(5216),A=o(1738);const E=[p.z,d.E,h.E,f.Q,m.o,g.g,v.T,C.J,b.G,w.r,y.P,_.V,T.g,L.i,k.E,P.m,S.O,I.Z,U.a,B.S,Z.Y,O.E,D.V],x=[A.J];function F(e){for(const t of x)e.use(t);for(const t of E)e.component(t.name,t)}function N(e){e.use(F)}var W=o(746),R=o(9089);const j=(0,n.ri)(l);j.use(R.ZP),j.use(W.Z),j.use(N),j.use(R.zn),j.mount("#app")},746:function(e,t,o){o.d(t,{Z:function(){return at},e:function(){return it}});var n=o(2483),i=o(3396);const a={class:"main"};function r(e,t,o,n,r,s){const c=(0,i.up)("nav-header"),u=(0,i.up)("router-view"),l=(0,i.up)("nav-footer");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(c,{class:"nav-header"}),(0,i.Wm)(u),(0,i.Wm)(l,{class:"nav-footer"})])}const s={class:"nav-footer"};function c(e,t,o,n,a,r){const c=(0,i.up)("van-tabbar-item"),u=(0,i.up)("van-tabbar");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i.Wm)(u,{modelValue:e.active,"onUpdate:modelValue":t[0]||(t[0]=t=>e.active=t),"active-color":"#5979F0","inactive-color":"#808080",onChange:e.handleItemClick},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{name:"home",icon:"home-o"},{default:(0,i.w5)((()=>[(0,i.Uk)("Home")])),_:1}),(0,i.Wm)(c,{name:"feedback",icon:"edit"},{default:(0,i.w5)((()=>[(0,i.Uk)("Feed")])),_:1}),(0,i.Wm)(c,{name:"user",icon:"user-o"},{default:(0,i.w5)((()=>[(0,i.Uk)("Me")])),_:1})])),_:1},8,["modelValue","onChange"])])}o(7658);var u=o(4870),l=(0,i.aZ)({setup(){const e=(0,u.iH)("home"),t=(0,n.tv)(),o=e=>{t.push(`/main/${e}`)};return{active:e,handleItemClick:o}}}),p=o(89);const d=(0,p.Z)(l,[["render",c]]);var h=d,f=h;const m=e=>((0,i.dD)("data-v-7de4f20a"),e=e(),(0,i.Cn)(),e),g={class:"nav-header"},v=m((()=>(0,i._)("span",{class:"nav-title"},[(0,i._)("strong",null,"BETXIN")],-1)));function C(e,t,o,n,a,r){const s=(0,i.up)("van-image"),c=(0,i.up)("LixinPopup");return(0,i.wg)(),(0,i.iD)("div",g,[(0,i.Wm)(s,(0,i.dG)(e.imageConfig,{src:e.userInfo.avatar_url,onClick:e.handleLoginClick}),null,16,["src","onClick"]),v,(0,i.Wm)(c,{ref:"LixinPopupRef","pop-config":e.popupConfig},null,8,["pop-config"])])}var b=o(9089),w=o(7139);const y={class:"page-popup"},_={class:"user-name"},T={class:"buy-count"},L={class:"buy-count-text"},k={class:"collect-count"},P={class:"collect-count-text"};function S(e,t,o,n,a,r){const s=(0,i.up)("van-image"),c=(0,i.up)("van-button"),u=(0,i.up)("van-tag"),l=(0,i.up)("van-popup");return(0,i.wg)(),(0,i.iD)("div",y,[(0,i.Wm)(l,(0,i.dG)(e.popConfig,{show:e.showPopup,"onUpdate:show":t[0]||(t[0]=t=>e.showPopup=t),class:"van-pageup"}),{default:(0,i.w5)((()=>[(0,i.Wm)(s,(0,i.dG)(e.imageConfig,{src:e.userInfo.avatar_url}),null,16,["src"]),(0,i._)("h3",_,(0,w.zw)(e.userInfo.full_name),1),(0,i._)("div",T,[(0,i._)("div",L,[(0,i.Uk)(" Buy "),(0,i._)("span",null,(0,w.zw)(e.buyCount),1)])]),(0,i._)("div",k,[(0,i._)("div",P,[(0,i.Uk)(" Collect "),(0,i._)("span",null,(0,w.zw)(e.collectCount),1)])]),(0,i.Wm)(c,(0,w.vs)((0,i.F4)(e.buttonConfig)),{default:(0,i.w5)((()=>[(0,i.Uk)("Learn More")])),_:1},16),(0,i.Wm)(u,{type:"primary",round:"",plain:"",color:"#7983C2"},{default:(0,i.w5)((()=>[(0,i.Uk)("© BETXIN")])),_:1})])),_:1},16,["show"])])}const I={positon:"left",round:!0,width:"3rem",height:"3rem","lazy-load":!0},U={type:"default",size:"size",class:"reference",block:!0,round:!0,url:"https://github.com/lixvyang"};var B=(0,i.aZ)({props:{popConfig:{type:Object,required:!0}},setup(){const e=(0,b.oR)(),t=(0,u.iH)(!1),o=()=>{t.value=!0},n=(0,i.Fl)((()=>e.state.login.userInfo)),a=(0,i.Fl)((()=>e.state.main.userToTopicCount)),r=(0,i.Fl)((()=>e.state.main.userCollectTopicCount));return{showPopup:t,userInfo:n,imageConfig:I,buttonConfig:U,buyCount:a,collectCount:r,handleShowPopup:o}}});const Z=(0,p.Z)(B,[["render",S],["__scopeId","data-v-2d907492"]]);var O=Z,D=O;const A={position:"bottom",style:"height: 30%",round:!0,closeable:!0},E={positon:"left",round:!0,width:"2rem",height:"2rem","lazy-load":!0};var x=(0,i.aZ)({components:{LixinPopup:D},setup(){const e=(0,n.yj)(),t=(0,b.oR)(),o=(0,u.iH)(),a=(0,i.Fl)((()=>t.state.login.userInfo)),r=()=>{t.state.login.userInfo.mixin_uuid?o.value?.handleShowPopup():t.dispatch("login/accountLoginAction",e.path)};return{handleLoginClick:r,userInfo:a,LixinPopupRef:o,popupConfig:A,imageConfig:E}}});const F=(0,p.Z)(x,[["render",C],["__scopeId","data-v-7de4f20a"]]);var N=F,W=N,R=(0,i.aZ)({components:{NavFooter:f,NavHeader:W},setup(){return{}}});const j=(0,p.Z)(R,[["render",r],["__scopeId","data-v-76763696"]]);var z=j;const H={class:"home"},$={class:"nav-tabs"};function q(e,t,o,n,a,r){const s=(0,i.up)("van-tab"),c=(0,i.up)("van-tabs"),u=(0,i.up)("van-icon");return(0,i.wg)(),(0,i.iD)("div",H,[(0,i._)("div",$,[(0,i.Wm)(c,{swipeable:"",color:"#5979F0",onClickTab:e.handleTabClick},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.categories,(e=>((0,i.wg)(),(0,i.j4)(s,{key:e.id,title:e.text,"lazy-render":"",ellipsis:"",duration:"0",sticky:"","line-height":"10px"},null,8,["title"])))),128))])),_:1},8,["onClickTab"]),(0,i._)("span",null,[(0,i.Wm)(u,{class:"nav-search",name:"search",size:"1.5rem",onClick:e.handleSearchClick},null,8,["onClick"])])]),((0,i.wg)(),(0,i.j4)(i.Ob,null,[((0,i.wg)(),(0,i.j4)((0,i.LL)(e.TopicCategory)))],1024))])}var V=(0,i.aZ)({components:{Business:(0,i.RC)((()=>Promise.all([o.e(545),o.e(469)]).then(o.bind(o,6899)))),Crypto:(0,i.RC)((()=>Promise.all([o.e(545),o.e(163)]).then(o.bind(o,4750)))),New:(0,i.RC)((()=>Promise.all([o.e(545),o.e(176)]).then(o.bind(o,5814)))),Politics:(0,i.RC)((()=>Promise.all([o.e(545),o.e(425)]).then(o.bind(o,1498)))),Sports:(0,i.RC)((()=>Promise.all([o.e(545),o.e(779)]).then(o.bind(o,5949)))),Trending:(0,i.RC)((()=>Promise.all([o.e(545),o.e(494)]).then(o.bind(o,6989))))},setup(){const e=(0,n.tv)(),t=(0,b.oR)(),o=(0,u.iH)(),a=(0,u.iH)("Business"),r=(0,u.iH)(),s=(0,i.Fl)((()=>t.state.categoryList.map((e=>({text:e.category_name,id:e.id}))))),c=()=>{e.push("/search")},l=e=>{r.value?.changeFinished(),a.value=e.title};return{cid:o,categories:s,pageTopicRef:r,handleSearchClick:c,handleTabClick:l,TopicCategory:a}}});const Y=(0,p.Z)(V,[["render",q],["__scopeId","data-v-5dedf735"]]);var M=Y;const G=e=>((0,i.dD)("data-v-ae48a6e4"),e=e(),(0,i.Cn)(),e),X={class:"search"},K={class:"search-header"},J=G((()=>(0,i._)("span",{class:"nav-title"},[(0,i._)("strong",null,"BETXIN")],-1))),Q={class:"end-time"};function ee(e,t,o,n,a,r){const s=(0,i.up)("van-icon"),c=(0,i.up)("pie-chart"),u=(0,i.up)("van-button"),l=(0,i.up)("nav-order");return(0,i.wg)(),(0,i.iD)("div",X,[(0,i._)("div",K,[(0,i.Wm)(s,{name:"arrow-left",size:"1.5rem",onClick:e.handleBackClick},null,8,["onClick"]),J]),(0,i.Wm)(c,{class:"pie-chart"}),(0,i._)("div",Q,[(0,i._)("p",null,"End Time: "+(0,w.zw)(e.topic.end_time),1)]),(0,i._)("div",null,[(0,i.Wm)(u,{type:"primary",size:"large",round:"",class:"buy-btn",disabled:e.isBuied,onClick:e.handleBtnClick},{default:(0,i.w5)((()=>[(0,i.Uk)((0,w.zw)(e.btnText),1)])),_:1},8,["disabled","onClick"])]),(0,i.Wm)(l,{ref:"NavOrderRef",orderConfig:e.orderConfig},null,8,["orderConfig"])])}var te=o(8194);function oe(e){const t=te.S1(e),o=e=>{t.setOption(e)},n=()=>{t.resize()};return window.addEventListener("resize",(()=>{t.resize()})),{echartInstance:t,setOptions:o,updateSize:n}}const ne={class:"base-echart"};var ie=(0,i.aZ)({__name:"base-chart",props:{options:null,width:{default:"100%"},height:{default:"360px"}},setup(e){const t=e,o=(0,u.iH)();return(0,i.bv)((()=>{const{setOptions:e}=oe(o.value);(0,i.m0)((()=>{e(t.options)}))})),(t,n)=>((0,i.wg)(),(0,i.iD)("div",ne,[(0,i._)("div",{ref_key:"echartDivRef",ref:o,style:(0,w.j5)({width:e.width,height:e.height})},null,4)]))}});const ae=ie;var re=ae,se=re;const ce={class:"pie-echart"};var ue=(0,i.aZ)({__name:"pie-chart",setup(e){const t=(0,b.oR)(),o=(0,i.Fl)((()=>({title:{subtext:t.state.main.singleTopic.title,left:"right"},tooltip:{trigger:"item"},legend:{orient:"horizontal",left:"left"},series:[{name:"noun",type:"pie",color:["#61D089","#f2a4a4"],radius:"50%",data:[{name:"Yes",value:t.state.main.singleTopic.yes_ratio,label:{backgroundColor:"#eee",borderColor:"#777"}},{name:"No",value:t.state.main.singleTopic.no_ratio,label:{backgroundColor:"#eee",borderColor:"#777"}}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})));return(e,t)=>((0,i.wg)(),(0,i.iD)("div",ce,[(0,i.Wm)((0,u.SU)(se),{options:(0,u.SU)(o)},null,8,["options"])]))}});const le=ue;var pe=le;const de=e=>((0,i.dD)("data-v-2520fddb"),e=e(),(0,i.Cn)(),e),he={class:"nav-order"},fe=de((()=>(0,i._)("h3",null,"押注",-1))),me={class:"select-ratio"},ge=de((()=>(0,i._)("h4",null,"选择支付币种",-1)));function ve(e,t,o,n,a,r){const s=(0,i.up)("van-radio"),c=(0,i.up)("van-radio-group"),u=(0,i.up)("nav-order-label"),l=(0,i.up)("van-field"),p=(0,i.up)("van-button"),d=(0,i.up)("van-popup"),h=(0,i.up)("coin-popup");return(0,i.wg)(),(0,i.iD)("div",he,[(0,i.Wm)(d,(0,i.dG)({show:e.showPopup,"onUpdate:show":t[2]||(t[2]=t=>e.showPopup=t)},e.orderConfig),{default:(0,i.w5)((()=>[fe,(0,i._)("div",me,[(0,i.Wm)(c,{modelValue:e.ratio,"onUpdate:modelValue":t[0]||(t[0]=t=>e.ratio=t),direction:"horizontal"},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{name:"yes_ratio"},{default:(0,i.w5)((()=>[(0,i.Uk)("YES")])),_:1}),(0,i.Wm)(s,{name:"no_ratio"},{default:(0,i.w5)((()=>[(0,i.Uk)("NO")])),_:1})])),_:1},8,["modelValue"])]),(0,i.Wm)(u,{ref:"NavOrderLabelRef"},null,512),(0,i.Wm)(l,{modelValue:e.selctePriceModel,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selctePriceModel=t),label:"自定义数额 $",placeholder:"请输入数额",type:"number",rules:e.amountInputConfig,onFocus:e.handleFieldFocus},null,8,["modelValue","rules","onFocus"]),ge,(0,i.Wm)(p,{class:"order-button",plain:"",hairline:"",icon:e.selectedCoin.icon_url,type:"primary",size:"large",round:"",onClick:e.handleChooseCoinClick},{default:(0,i.w5)((()=>[(0,i.Uk)((0,w.zw)(e.selectedCoin.symbol)+" > ",1)])),_:1},8,["icon","onClick"]),(0,i._)("h5",null,"支付的数额: "+(0,w.zw)(e.coinAmount),1),(0,i.Wm)(p,{class:"order-button",plain:"",hairline:"",type:"primary",size:"large",round:"",onClick:e.handlePayClick},{default:(0,i.w5)((()=>[(0,i.Uk)(" Mixin支付 ")])),_:1},8,["onClick"])])),_:1},16,["show"]),(0,i.Wm)(h,{ref:"CoinPopupRef"},null,512)])}const Ce=(0,u.iH)([{price:10,selcted:!1},{price:50},{price:100},{price:200},{price:500},{price:1e3}]),be=[{required:!0,message:"数额是必传内容",trigger:"onChange"},{pattern:/^[0-9]{2,8}$/,message:"数额不符合要求",trigger:"onChange"}];(0,u.iH)([{img_url:"https://mixin-images.zeromesh.net/HvYGJsV5TGeZ-X9Ek3FEQohQZ3fE9LBEBGcOcn4c4BNHovP4fW4YB97Dg5LcXoQ1hUjMEgjbl1DPlKg1TW7kK6XP=s128",name:"BTC"}]);var we=o(3029),ye=o(5216),_e=o(2135),Te=o(6704);const Le={class:"nav-order-label"};function ke(e,t,o,n,a,r){const s=(0,i.up)("base-label");return(0,i.wg)(),(0,i.iD)("div",Le,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.OrderConfig,((t,o)=>((0,i.wg)(),(0,i.j4)(s,{key:t,ref_for:!0,ref:"BaseLabelRef",style:(0,w.j5)(t.selcted?"border: 2px solid #61D089;":""),onClick:t=>e.handleBaseLabelClick(o)},{default:(0,i.w5)((()=>[(0,i.Uk)((0,w.zw)("$"+t.price),1)])),_:2},1032,["style","onClick"])))),128))])}const Pe={class:"base-label"},Se={class:"base-text"};function Ie(e,t,o,n,a,r){return(0,i.wg)(),(0,i.iD)("div",Pe,[(0,i._)("span",Se,[(0,i.WI)(e.$slots,"default",{},void 0,!0)])])}var Ue=(0,i.aZ)({setup(){return{}}});const Be=(0,p.Z)(Ue,[["render",Ie],["__scopeId","data-v-0816ce12"]]);var Ze=Be,Oe=Ze,De=(0,i.aZ)({components:{BaseLabel:Oe},setup(){const e=(0,b.oR)(),t=t=>{if(!0===Ce.value[t].selcted)return Ce.value[t].selcted=!1,void e.commit("order/changeSelectedPrice");Ce.value[t].selcted=!0,e.commit("order/changeSelectedPrice",Ce.value[t].price);for(let e=0;e<Ce.value.length;e++)e!==t&&(Ce.value[e].selcted=!1)},o=()=>{for(let e=0;e<Ce.value.length;e++)Ce.value[e].selcted=!1};return{OrderConfig:Ce,handleBaseLabelClick:t,handleBaseLabelZero:o}}});const Ae=(0,p.Z)(De,[["render",ke],["__scopeId","data-v-6539d028"]]);var Ee=Ae;const xe=e=>((0,i.dD)("data-v-f9354d9a"),e=e(),(0,i.Cn)(),e),Fe={class:"coin-popup"},Ne=xe((()=>(0,i._)("h3",null,"选择加密货币",-1))),We={class:"base-label-group"},Re={class:"base-label-content"};function je(e,t,o,n,a,r){const s=(0,i.up)("van-image"),c=(0,i.up)("base-label"),u=(0,i.up)("van-popup");return(0,i.wg)(),(0,i.iD)("div",Fe,[(0,i.Wm)(u,(0,i.dG)({show:e.showCoinPopup,"onUpdate:show":t[0]||(t[0]=t=>e.showCoinPopup=t)},e.CoinPopUpConfig),{default:(0,i.w5)((()=>[(0,i._)("div",null,[Ne,(0,i._)("div",We,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.CoinConfig,((t,o)=>((0,i.wg)(),(0,i.j4)(c,{key:t,ref_for:!0,ref:"BaseLabelRef",style:(0,w.j5)(t.selected?"border: 2px solid #61D089;":""),onClick:t=>e.handleCoinLabelClick(o)},{default:(0,i.w5)((()=>[(0,i._)("div",Re,[(0,i.Wm)(s,{width:"1rem",height:"1rem",fit:"fill","lazy-load":"",position:"left",round:"",src:t.icon_url},null,8,["src"]),(0,i.Uk)(" "+(0,w.zw)(t.symbol),1)])])),_:2},1032,["style","onClick"])))),128))])])])),_:1},16,["show"])])}const ze={position:"bottom",style:"height: 50%",round:!0,closeable:!0},He=(0,u.iH)([]);var $e=(0,i.aZ)({components:{BaseLabel:Oe},setup(){const e=(0,u.iH)(!1),t=(0,b.oR)(),o=(0,i.Fl)((()=>t.state.order.selectedPrice)),n=(0,i.Fl)((()=>t.state.order.selectedCoin)),a=()=>{He.value=[],t.state.order.currencyList.forEach((e=>{He.value.push({selected:!1,asset_id:e.asset_id,price_btc:e.price_btc,price_usd:e.price_usd,chain_id:e.chain_id,icon_url:e.icon_url,symbol:e.symbol})}))};a();const r=()=>{e.value=!0},s=i=>{He.value[i].selected=!0,t.commit("order/changeSelectedCoin",He.value[i]),e.value=!1,t.commit("order/selectedCoinAmount",(o.value/n.value.price_usd).toFixed(8))};return{CoinPopUpConfig:ze,CoinConfig:He,showCoinPopup:e,handleChooseCoinClick:r,handlerCoinConfig:a,handleCoinLabelClick:s}}});const qe=(0,p.Z)($e,[["render",je],["__scopeId","data-v-f9354d9a"]]);var Ve=qe,Ye=(0,i.aZ)({components:{NavOrderLabel:Ee,CoinPopup:Ve,BaseLabel:Oe,[ye.V.Component.name]:ye.V.Component},props:{orderConfig:{type:Object,required:!0}},setup(){const e=(0,b.oR)(),t=(0,n.yj)(),o=(0,n.tv)(),a=(0,u.iH)(!1),r=(0,u.iH)(),s=(0,u.iH)(),c=(0,i.Fl)((()=>e.state.order.selectedPrice)),l=(0,i.Fl)((()=>e.state.order.selectedCoin)),p=(0,i.Fl)((()=>e.state.order.selectedCoinAmount)),d=(0,u.iH)(0),h=(0,u.iH)("yes_ratio"),f=()=>{a.value=!0};(0,i.YP)(c,(e=>{d.value=e})),(0,i.YP)(d,(t=>{e.commit("order/changeSelectedPrice",t),e.commit("order/selectedCoinAmount",(c.value/l.value.price_usd).toFixed(8))}));const m=()=>{r.value?.handleBaseLabelZero()},g=async()=>{s.value?.handleChooseCoinClick(),await(s.value?.handlerCoinConfig())},v=()=>{if(!e.state.login.userInfo.mixin_uuid)return void e.dispatch("login/accountLoginAction",t.path);if("yes_ratio"!=h.value&&"no_ratio"!=h.value)return void(0,_e.g)({message:"Please Select YES or NO",position:"bottom"});if(!d.value||0===d.value)return void(0,_e.g)({message:"Please Select Price",position:"bottom"});const n=(0,we.Z)(),i="7ac9341f-61c1-4b49-b466-298397fe1624";let a=!1,r=!1;"yes_ratio"===h.value?a=!0:"no_ratio"===h.value&&(r=!0);const s=Te.DS.encode(`{"tid": ${e.state.main.singleTopic.tid}, "yes_ratio": ${a}, "no_ratio": ${r}}`);ye.V.confirm({message:"Have You Paid?",confirmButtonColor:"#5979F0",confirmButtonText:"Have paid",cancelButtonText:"No",cancelButtonColor:"#AFAFAF"}).then((()=>{setTimeout((()=>{o.push("/")}),1e3)})).catch((()=>{setTimeout((()=>{o.push("/")}),1e3)})),window.location.href=`mixin://pay?recipient=${i}&asset=${l.value.asset_id}&trace=${n}&amount=${p.value}&memo=${s}`};return{ratio:h,showPopup:a,amountInputConfig:be,selctedPrice:c,NavOrderLabelRef:r,CoinPopupRef:s,selctePriceModel:d,selectedCoin:l,coinAmount:p,handleShowPopup:f,handleFieldFocus:m,handleChooseCoinClick:g,handlePayClick:v}}});const Me=(0,p.Z)(Ye,[["render",ve],["__scopeId","data-v-2520fddb"]]);var Ge=Me,Xe=Ge;const Ke={position:"bottom",style:"height: 50%",round:!0,closeable:!0};var Je=o(7520),Qe=(0,i.aZ)({components:{PieChart:pe,NavOrder:Xe},setup(){const e=(0,u.iH)(!1),t=(0,u.iH)("Buy"),o=(0,u.iH)(),a=(0,n.tv)(),r=(0,n.yj)(),s=(0,b.oR)();let c=(0,i.Fl)((()=>s.state.main.singleTopic));const l=async()=>{await(0,Je.um)(`/topic/${r.params.uuid}`).then((e=>{s.commit("main/changeSingleTopic",e.data)}))};l();const p=()=>{a.back()},d=async()=>{if(s.state.login.userInfo.mixin_uuid){const o=await(0,Je.oj)("/usertotopic/check",{user_id:s.state.login.userInfo.mixin_uuid,tid:r.params.uuid});if(null!=o.data){e.value=!0;const o=await(0,Je.oj)(`usertotopic/${r.params.uuid}`);0!==parseFloat(o.data.yes_ratio)?t.value=`You have paid YES $${o.data.yes_ratio_price}`:t.value=`You have paid NO ${o.data.no_ratio_price}`}}};d();const h=()=>{s.state.login.userInfo.mixin_uuid||s.dispatch("login/accountLoginAction",r.path),o.value?.handleShowPopup()};return{isBuied:e,topic:c,NavOrderRef:o,orderConfig:Ke,btnText:t,handleBackClick:p,handleBtnClick:h}}});const et=(0,p.Z)(Qe,[["render",ee],["__scopeId","data-v-ae48a6e4"]]);var tt=et;const ot=[{path:"/",redirect:"/main/home"},{path:"/search",name:"search",component:()=>o.e(282).then(o.bind(o,2282))},{path:"/topic/:uuid",name:"topic",component:tt},{path:"/main",name:"main",component:z,children:[{path:"/main/home",name:"home",component:M},{path:"/main/user",name:"user",component:()=>o.e(334).then(o.bind(o,4334))},{path:"/main/feedback",name:"feedback",component:()=>o.e(803).then(o.bind(o,803))}]},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>o.e(935).then(o.bind(o,935))}],nt=(0,n.p7)({history:(0,n.PO)("/"),routes:ot});function it(e){const t=document.cookie,o=t.split("; ");for(let n=0;n<o.length;n++){const t=o[n].split("=");if(t[0]==e)return!0}return!1}nt.beforeEach(((e,t)=>{"/"===t.fullPath&&it("_betxin_session")&&b.ZP.dispatch("login/getUserInfoAction")}));var at=nt},6994:function(e,t,o){o.d(t,{Z:function(){return h}});var n=o(2482),i=o(70);const a=!0;class r{constructor(e){(0,n.Z)(this,"instance",void 0),(0,n.Z)(this,"interceptors",void 0),(0,n.Z)(this,"showLoading",void 0),(0,n.Z)(this,"loading",void 0),this.instance=i.Z.create(e),this.showLoading=e.showLoading??a,this.interceptors=e.interceptors,this.instance.interceptors.request.use(this.interceptors?.requestInterceptor,this.interceptors?.requestInterceptorCatch),this.instance.interceptors.response.use(this.interceptors?.responseInterceptor,this.interceptors?.responseInterceptorCatch),this.instance.interceptors.request.use((e=>e),(e=>e)),this.instance.interceptors.response.use((e=>(setTimeout((()=>{this.loading?.close()}),1e3),e.data)),(e=>(this.loading?.close(),404===e.response.status&&console.log("404错误~"),e)))}request(e){return new Promise(((t,o)=>{e.interceptors?.requestInterceptor&&(e=e.interceptors.requestInterceptor(e)),!1===e.showLoading&&(this.showLoading=e.showLoading),this.instance.request(e).then((o=>{e.interceptors?.responseInterceptor&&(o=e.interceptors.responseInterceptor(o)),this.showLoading=a,t(o)})).catch((e=>(this.showLoading=a,o(e),e)))}))}get(e){return this.request({...e,method:"GET"})}post(e){return this.request({...e,method:"POST"})}put(e){return this.request({...e,method:"PUT"})}delete(e){return this.request({...e,method:"DELETE"})}patch(e){return this.request({...e,method:"PATCH"})}}var s=r;let c="";const u=1e4;c="http://localhost:3001/api/v1/";class l{setCache(e,t){window.localStorage.setItem(e,JSON.stringify(t))}getCache(e){const t=window.localStorage.getItem(e);if(t)return JSON.parse(t)}deleteCache(e){window.localStorage.removeItem(e)}clearCache(){window.localStorage.clear()}}var p=new l;const d=new s({baseURL:c,timeout:u,interceptors:{requestInterceptor:e=>{const t=p.getCache("token")??"";return t&&(e.headers.Authorization=`Bearer ${t}`),e},requestInterceptorCatch:e=>e,responseInterceptor:e=>e,responseInterceptorCatch(e){return e}}});var h=d},7520:function(e,t,o){o.d(t,{bD:function(){return i},oj:function(){return r},um:function(){return a}});var n=o(6994);function i(e,t=""){return n.Z.post({url:e,data:t,withCredentials:!0})}function a(e,t={}){return n.Z.get({url:e,data:t,withCredentials:!0})}function r(e,t={}){return n.Z.post({url:e,data:t,withCredentials:!0})}},9089:function(e,t,o){o.d(t,{ZP:function(){return C},zn:function(){return v},oR:function(){return g}});var n=o(65);const i=e=>{const t="https://www.mixin.one/oauth/authorize",o={client_id:"7ac9341f-61c1-4b49-b466-298397fe1624",redirect_uri:"http://localhost:3001/oauth/redirect",scope:"PROFILE:READ+ASSETS:READ+SNAPSHOTS:READ",response_type:"code",state:e},n=new URLSearchParams(o);return`${t}?${n.toString()}`};var a=o(6994);function r(e,t=""){return a.Z.post({url:e,withCredentials:!0})}const s={namespaced:!0,state(){return{userInfo:{}}},getters:{},actions:{async accountLoginAction({commit:e,dispatch:t},o){const n="/";window.location.href=i(n)},async getUserInfoAction({commit:e},t){const o=await r("/user/info");e("changeUserInfo",o.data)}},mutations:{changeUserInfo(e,t){e.userInfo=t}}};var c=s,u=(o(7658),o(7520)),l=o(746);const p={namespaced:!0,state(){return{topicTrendingList:[],topicTrendingCount:0,topicNewList:[],topicNewCount:0,topicPoliticsList:[],topicPoliticsCount:0,topicSportsList:[],topicSportsCount:0,topicCryptoList:[],topicCryptoCount:0,topicBusinessList:[],topicBusinessCount:0,singleTopic:{},userCollectTopicCount:0,userCollectTopicList:[],userToTopicList:[],userToTopicCount:0}},getters:{pageListData(e){return t=>e[`topic${t}List`]},pageListCount(e){return t=>e[`topic${t}Count`]}},actions:{async initMainAction({commit:e}){if((0,l.e)("_betxin_session")){const t=await(0,u.bD)("/collect/list");e("changeUserCollectTopic",t.data?.list),e("changeUserCollectTopicCount",t.data.totalCount);const o=await(0,u.bD)("/usertotopic/list");e("changeUserToTopic",o.data?.list),e("changeUserToTopicCount",o.data.totalCount)}},async handleCollecTopictAction({commit:e}){const t=await(0,u.bD)("/collect/list");e("changeUserCollectTopic",t.data?.list),e("changeUserCollectTopicCount",t.data.totalCount)},async handleUserToTopicAction({commit:e}){const t=await(0,u.bD)("/usertotopic/list");e("changeUserToTopic",t.data?.list),e("changeUserToTopicCount",t.data.totalCount)}},mutations:{changeSingleTopic(e,t){e.singleTopic=t},changeUserCollectTopic(e,t){e.userCollectTopicList=t},changeUserToTopic(e,t){e.userToTopicList=t},changeUserCollectTopicCount(e,t){e.userCollectTopicCount=t},changeUserToTopicCount(e,t){e.userToTopicCount=t},pushTopicBusinessList(e,t){e.topicBusinessList.push(...t)},changeTopicBusinessList(e,t){e.topicBusinessList=t},changeTopicBusinessCount(e,t){e.topicBusinessCount=t},pushTopicTrendingList(e,t){e.topicTrendingList.push(...t)},changeTopicTrendingList(e,t){e.topicTrendingList=t},changeTopicTrendingCount(e,t){e.topicTrendingCount=t},pushTopicNewList(e,t){e.topicNewList.push(...t)},changeTopicNewList(e,t){e.topicNewList=t},changeTopicNewCount(e,t){e.topicNewCount=t},pushTopicPoliticsList(e,t){e.topicPoliticsList.push(...t)},changeTopicPoliticsList(e,t){e.topicPoliticsList=t},changeTopicPoliticsCount(e,t){e.topicPoliticsCount=t},pushTopicSportsList(e,t){e.topicSportsList.push(...t)},changeTopicSportsList(e,t){e.topicSportsList=t},changeTopicSportsCount(e,t){e.topicSportsCount=t},pushTopicCryptoList(e,t){e.topicCryptoList.push(...t)},changeTopicCryptoList(e,t){e.topicCryptoList=t},changeTopicCryptoCount(e,t){e.topicCryptoCount=t}}};var d=p;const h={namespaced:!0,state(){return{selectedPrice:0,selectedCoin:{},selectedCoinAmount:0,currencyList:[]}},getters:{getCurrency(e){return t=>(console.log(111),e.currencyList.find((e=>e.symbol===t)))}},actions:{async initOrderAction({state:e,commit:t,dispatch:o}){const n=await(0,u.oj)("/currency/list");t("changeCurrencyList",n.data.list),t("changeSelectedCoin",e.currencyList.find((e=>"pUSD"===e.symbol)))}},mutations:{changeSelectedPrice(e,t){e.selectedPrice=t},changeCurrencyList(e,t){e.currencyList=t},changeSelectedCoin(e,t){e.selectedCoin=t},selectedCoinAmount(e,t){e.selectedCoinAmount=t}}};var f=h;const m=(0,n.MT)({state(){return{categoryCount:0,categoryList:[],topicCount:0,topicList:[]}},getters:{},mutations:{changeCategoryList(e,t){e.categoryList=t},changeCategoryCount(e,t){e.categoryCount=t},changeTopicList(e,t){e.topicList=t},changeTopicCount(e,t){e.topicCount=t}},actions:{async getInitDataAction({commit:e,dispatch:t}){const o=await(0,u.oj)("/category/list",{offset:0,limit:100}),{totalCount:n,list:i}=o.data;e("changeCategoryList",i),e("changeCategoryCount",n),t("main/initMainAction"),t("order/initOrderAction")}},modules:{order:f,login:c,main:d}});function g(){return(0,n.oR)()}function v(){m.dispatch("getInitDataAction")}var C=m}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,n,i,a){if(!n){var r=1/0;for(l=0;l<e.length;l++){n=e[l][0],i=e[l][1],a=e[l][2];for(var s=!0,c=0;c<n.length;c++)(!1&a||r>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[c])}))?n.splice(c--,1):(s=!1,a<r&&(r=a));if(s){e.splice(l--,1);var u=i();void 0!==u&&(t=u)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[n,i,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))}}(),function(){o.u=function(e){return"static/js/"+e+"."+{163:"7eece342",176:"d7aad86e",282:"3a1f5319",334:"2bbab9c2",425:"8fa8c1c2",469:"6fb72411",494:"e92325fd",545:"e52ae64b",779:"cd45cf9d",803:"f63df42e",935:"9059a9bd"}[e]+".js"}}(),function(){o.miniCssF=function(e){return"static/css/"+e+"."+{163:"d3ee24c1",176:"d3ee24c1",282:"eecc2f5b",334:"50019375",425:"d3ee24c1",469:"d3ee24c1",494:"d3ee24c1",779:"d3ee24c1",803:"9981beaa"}[e]+".css"}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="frontend:";o.l=function(n,i,a,r){if(e[n])e[n].push(i);else{var s,c;if(void 0!==a)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var p=u[l];if(p.getAttribute("src")==n||p.getAttribute("data-webpack")==t+a){s=p;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+a),s.src=n),e[n]=[i];var d=function(t,o){s.onerror=s.onload=null,clearTimeout(h);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(o)})),t)return t(o)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e=function(e,t,o,n){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var a=function(a){if(i.onerror=i.onload=null,"load"===a.type)o();else{var r=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=r,c.request=s,i.parentNode.removeChild(i),n(c)}};return i.onerror=i.onload=a,i.href=t,document.head.appendChild(i),i},t=function(e,t){for(var o=document.getElementsByTagName("link"),n=0;n<o.length;n++){var i=o[n],a=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(a===e||a===t))return i}var r=document.getElementsByTagName("style");for(n=0;n<r.length;n++){i=r[n],a=i.getAttribute("data-href");if(a===e||a===t)return i}},n=function(n){return new Promise((function(i,a){var r=o.miniCssF(n),s=o.p+r;if(t(r,s))return i();e(n,s,i,a)}))},i={826:0};o.f.miniCss=function(e,t){var o={163:1,176:1,282:1,334:1,425:1,469:1,494:1,779:1,803:1};i[e]?t.push(i[e]):0!==i[e]&&o[e]&&t.push(i[e]=n(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}(),function(){var e={826:0};o.f.j=function(t,n){var i=o.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise((function(o,n){i=e[t]=[o,n]}));n.push(i[2]=a);var r=o.p+o.u(t),s=new Error,c=function(n){if(o.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",s.name="ChunkLoadError",s.type=a,s.request=r,i[1](s)}};o.l(r,c,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,a,r=n[0],s=n[1],c=n[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(c)var l=c(o)}for(t&&t(n);u<r.length;u++)a=r[u],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(l)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(4775)}));n=o.O(n)})();
//# sourceMappingURL=index.d1e5d159.js.map