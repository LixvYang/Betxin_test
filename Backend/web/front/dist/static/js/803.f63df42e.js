"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[803],{803:function(e,a,t){t.r(a),t.d(a,{default:function(){return p}});var l=t(3396);const n=e=>((0,l.dD)("data-v-bcbf5cc6"),e=e(),(0,l.Cn)(),e),s={class:"feed-back"},i={class:"feed-back-content"},o=n((()=>(0,l._)("div",{class:"feed-tip"}," 这里是对机器人的一些悄悄话,可以是一些建议反馈,也可以是一些期待的话题内容 ",-1)));function d(e,a,t,n,d,u){const r=(0,l.up)("van-field"),c=(0,l.up)("van-cell-group"),f=(0,l.up)("van-button"),m=(0,l.up)("van-divider");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",i,[(0,l.Wm)(c,{inset:""},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{modelValue:e.title,"onUpdate:modelValue":a[0]||(a[0]=a=>e.title=a),"left-icon":"arrow",label:"Title"},null,8,["modelValue"]),(0,l.Wm)(r,{modelValue:e.message,"onUpdate:modelValue":a[1]||(a[1]=a=>e.message=a),rows:"1","left-icon":"edit",autosize:"",label:"Message",type:"textarea",placeholder:"Please enter a message...",maxlength:"200","show-word-limit":""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(f,{type:"primary",size:"large",round:"",class:"feedback-btn",onClick:e.handleBtnClick},{default:(0,l.w5)((()=>[(0,l.Uk)("Send")])),_:1},8,["onClick"]),(0,l.Wm)(m),o])])}var u=t(7520),r=t(9089),c=t(2135),f=t(4870),m=(0,l.aZ)({setup(){const e=(0,f.iH)(""),a=(0,f.iH)(""),t=(0,r.oR)(),n=(0,f.iH)(0),s=(0,l.Fl)((()=>t.state.login.userInfo.identity_number));setInterval((()=>n.value=0),36e5);const i=async()=>{if(n.value>=5)return void(0,c.g)({type:"warning",message:"Please give feedback from time to time"});if(!s.value)return void(0,c.g)({type:"warning",message:"Please login first"});if(e.value.length>=50)return void(0,c.g)({type:"warning",message:"Title is to long..."});const t=await(0,u.oj)("/feedback/add",{user_id:s.value,title:e.value,message:a.value});200===t.code&&(0,c.g)({type:"success",message:"Thanks for your feedback!"}),n.value++};return{title:e,message:a,handleBtnClick:i}}}),g=t(89);const v=(0,g.Z)(m,[["render",d],["__scopeId","data-v-bcbf5cc6"]]);var p=v}}]);
//# sourceMappingURL=803.f63df42e.js.map